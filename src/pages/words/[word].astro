---
import { getAdjacentWords, getWordsFromCollection } from '~astro-utils/word-data-utils';
import WordPage from '~components/WordPage.astro';

export async function getStaticPaths() {
  const allWords = await getWordsFromCollection();

  const paths = allWords.map(wordData => {
    const { previousWord, nextWord } = getAdjacentWords(wordData.date, allWords);

    return {
      params: { word: wordData.word },
      props: {
        wordData,
        previousWord,
        nextWord,
      },
    };
  });

  return paths;
}

const { wordData, previousWord, nextWord } = Astro.props;
---

<WordPage wordData={wordData} previousWord={previousWord} nextWord={nextWord} />
