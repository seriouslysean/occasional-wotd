---
import WordDisplay from '~components/WordDisplay.astro';
import Layout from '~layouts/Layout.astro';
import { getPageMetadata } from '~astro-utils/page-metadata.ts';
import { getWordsFromCollection } from '~astro-utils/word-data-utils';

const { title, description, partOfSpeech } = getPageMetadata('/404');
const allWords = await getWordsFromCollection();
const wordsToShow = allWords.slice(0, 4);
const sectionTitle = wordsToShow.length > 0 ? 'Recent Words' : '';
const definition = description.replace(/^\w+\.\s*/, '');
const notFoundWord = {
  word: title,
  date: '',
  adapter: 'static',
  data: [{ text: definition, partOfSpeech }],
};
---
<Layout title={title} description={description}>
  <WordDisplay
    currentWord={notFoundWord}
    wordsToShow={wordsToShow}
    sectionTitle={sectionTitle}
  />
</Layout>
